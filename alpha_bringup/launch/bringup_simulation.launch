<?xml version="1.0"?>
<launch>

    <arg name="robot_name" default="alpha"/>

    <arg name="robot_version" default="v1-1"/>

    <arg name="legacy" default="false"/>

    <group unless="$(arg legacy)">
        <include file="$(find alpha_stonefish)/launch/alpha.launch">
        </include>

        <include file="$(find alpha_bringup)/launch/include/control.launch.xml">
            <arg name="robot_name" value="$(arg robot_name)"/>
            <arg name="robot_version" value="$(arg robot_version)"/>
        </include>

        <include file="$(find alpha_bringup)/launch/include/description.launch.xml">
            <arg name="robot_name" value="$(arg robot_name)"/>
            <arg name="robot_version" default="$(arg robot_version)"/>
        </include>

        <include file="$(find alpha_bringup)/launch/include/localization_sim.launch.xml">
            <arg name="robot_name" value="$(arg robot_name)"/>
        </include>
    </group>

    <group if="$(arg legacy)">
        <include file="$(find alpha_bringup)/launch/include/simulator.launch.xml">
            <arg name="robot_name" value="$(arg robot_name)"/>
        </include>

        <include file="$(find alpha_bringup)/launch/include/control.launch.xml">
            <arg name="robot_name" value="$(arg robot_name)"/>
            <arg name="robot_version" default="v1"/>
        </include>
    </group>

    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find alpha_description)/rviz/config.rviz"/>

</launch>
