<?xml version="1.0" encoding="utf-8"?>
<launch>

    <arg name="robot_name" default="alpha"/>
    <!--param name="use_sim_time" value="true"/-->

    <group ns="$(arg robot_name)">
        <param name="tf_prefix" value="$(arg robot_name)"/>

        <node
                type="simulator_node"
                name="simulator_node"
                pkg="alpha_simulator"
                output="screen"/>

        <node
                type="sim_auv_nav_sensors_node.py"
                name="sim_auv_nav_sensors"
                pkg="cola2_sim"
                output="screen">
            <rosparam command="load" file="$(find alpha_simulator)/config/sim_auv_nav_sensors.yaml"/>
        </node>

        <node
                name="sim_internal_sensors"
                pkg="cola2_sim"
                type="sim_internal_sensors_node"
                output="screen">
            <rosparam command="load" file="$(find alpha_simulator)/config/sim_internal_sensors.yaml"/>
        </node>

        <node
                type="alpha_controller_mapper_node"
                name="alpha_control_mapper_node"
                pkg="alpha_controller"
                output="screen"/>

        <include file="$(find alpha_description)/launch/description.launch">
            <arg name="robot_name" value="$(arg robot_name)"/>
        </include>

        <include file="$(find alpha_localization)/launch/localization.launch">
        </include>

    </group>

    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find alpha_description)/rviz/config.rviz"/>

</launch>